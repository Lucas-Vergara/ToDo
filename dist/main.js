(()=>{"use strict";const e=window.localStorage,t=()=>{document.getElementById("content").innerHTML=""},n=()=>{let o=document.createElement("div");o.classList.add("card");let d=document.createElement("button");d.id="new-project",d.innerHTML="New Project",o.appendChild(d),o.addEventListener("click",(function(){var o;o=prompt("Enter Project's Name"),e.setItem(o,JSON.stringify([])),t(),c(),n()})),document.getElementById("content").appendChild(o)},c=()=>{let e=(()=>{const e=window.localStorage,t=[];for(let n=0;n<e.length;n++){const c=e.key(n);t.push(c)}return{projects:t}})();document.getElementById("myDropdown").innerHTML="";for(let t=0;t<e.projects.length;t++){const n=e.projects[t];let c=document.createElement("div");c.classList.add("project-card"),c.innerHTML=n,c.addEventListener("click",(function(){d(n)})),o(n),document.getElementById("content").appendChild(c)}},o=e=>{let t=document.createElement("a");t.innerHTML=e,document.getElementById("myDropdown").appendChild(t)},d=n=>{t(),document.getElementById("content").classList.add("project-content");let c=JSON.parse(e[n]);for(let e=0;e<c.length;e++){const t=c[e];let n=document.getElementById("content"),o=l(t.title);n.appendChild(o.input),n.appendChild(o.label)}document.getElementById("projects").firstElementChild.innerHTML=n},l=e=>{let t=document.createElement("input");t.classList.add("inp-cbx"),t.id=e,t.type="checkbox",t.style="display: none;";let n=document.createElement("label");n.classList.add("cbx"),n.setAttribute("for",e);let c=document.createElement("span"),o=document.createElement("span"),d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.setAttribute("width","12px"),d.setAttribute("height","9px"),d.setAttribute("viewbox","0 0 12 9");let l=document.createElementNS("http://www.w3.org/2000/svg","polyline");return l.setAttribute("points","1 5 4 8 11 1"),d.appendChild(l),c.appendChild(d),o.innerText=e,n.appendChild(c),n.appendChild(o),{input:t,label:n}};c(),n();const i=document.querySelector(".modal-bg"),s=document.querySelector(".modal-close");document.getElementById("tasksubmit").addEventListener("click",(function(){(t=>{const n=document.getElementById("projects").firstElementChild.innerHTML;console.log(n);const c=(o=t.title.value,d=t.description.value,{title:o,description:d,date:"date",priority:"priority",edit:(e,t,n,c)=>{o=e,d=t}});var o,d;let l=JSON.parse(e.getItem(n));l.push(c),e.setItem(n,JSON.stringify(l))})(this.form),i.classList.remove("bg-active")})),document.getElementById("new-task").addEventListener("click",(function(){i.classList.add("bg-active")})),s.addEventListener("click",(function(){i.classList.remove("bg-active")})),document.getElementById("projects").addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches("#projects")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var c=n[t];c.classList.contains("show")&&c.classList.remove("show")}}}})();