(()=>{"use strict";const e=window.localStorage,t=()=>{document.getElementById("content").innerHTML=""},n=()=>{let d=document.createElement("div");d.classList.add("card");let o=document.createElement("button");o.id="new-project",o.innerHTML="New Project",d.appendChild(o),d.addEventListener("click",(function(){var d;d=prompt("Enter Project's Name"),e.setItem(d,JSON.stringify([])),t(),c(),n()})),document.getElementById("content").appendChild(d)},c=()=>{let e=(()=>{const e=window.localStorage,t=[];for(let n=0;n<e.length;n++){const c=e.key(n);t.push(c)}return{projects:t}})();document.getElementById("myDropdown").innerHTML="";for(let t=0;t<e.projects.length;t++){const n=e.projects[t];let c=document.createElement("div");c.classList.add("project-card"),c.innerHTML=n,c.addEventListener("click",(function(){o(n)})),d(n),document.getElementById("content").appendChild(c)}},d=e=>{let t=document.createElement("a");t.innerHTML=e,document.getElementById("myDropdown").appendChild(t)},o=n=>{t(),document.getElementById("content").classList.add("project-content");let c=JSON.parse(e[n]);for(let e=0;e<c.length;e++){const t=c[e];let n=document.getElementById("content"),d=l(t.title),o=document.createElement("div");o.classList.add("closed-task"),o.appendChild(d.input),o.appendChild(d.label),n.appendChild(o)}document.getElementById("projects").firstElementChild.innerHTML=n},l=e=>{let t=document.createElement("input");t.classList.add("inp-cbx"),t.id=e,t.type="checkbox",t.style="display: none;";let n=document.createElement("label");n.classList.add("cbx"),n.setAttribute("for",e);let c=document.createElement("span"),d=document.createElement("span"),o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width","12px"),o.setAttribute("height","9px"),o.setAttribute("viewbox","0 0 12 9");let l=document.createElementNS("http://www.w3.org/2000/svg","polyline");return l.setAttribute("points","1 5 4 8 11 1"),o.appendChild(l),c.appendChild(o),d.innerText=e,n.appendChild(c),n.appendChild(d),{input:t,label:n}};c(),n();const i=document.querySelector(".modal-bg"),s=document.querySelector(".modal-close");document.getElementById("tasksubmit").addEventListener("click",(function(){(t=>{const n=document.getElementById("projects").firstElementChild.innerHTML;console.log(n);const c=(d=t.title.value,o=t.description.value,{title:d,description:o,date:"date",priority:"priority",edit:(e,t,n,c)=>{d=e,o=t}});var d,o;let l=JSON.parse(e.getItem(n));l.push(c),e.setItem(n,JSON.stringify(l))})(this.form),i.classList.remove("bg-active")})),document.getElementById("new-task").addEventListener("click",(function(){i.classList.add("bg-active")})),s.addEventListener("click",(function(){i.classList.remove("bg-active")})),document.getElementById("projects").addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches("#projects")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var c=n[t];c.classList.contains("show")&&c.classList.remove("show")}}}})();