(()=>{"use strict";const e=window.localStorage,t=()=>{document.getElementById("content").innerHTML=""},n=()=>{let d=document.createElement("div");d.classList.add("card");let l=document.createElement("button");l.id="new-project",l.innerHTML="New Project",d.appendChild(l),d.addEventListener("click",(function(){var d;d=prompt("Enter Project's Name"),e.setItem(d,JSON.stringify([])),t(),c(),n()})),document.getElementById("content").appendChild(d)},c=()=>{let e=(()=>{const e=window.localStorage,t=[];for(let n=0;n<e.length;n++){const c=e.key(n);t.push(c)}return{projects:t}})();document.getElementById("myDropdown").innerHTML="";for(let t=0;t<e.projects.length;t++){const n=e.projects[t];let c=document.createElement("div");c.classList.add("project-card"),c.innerHTML=n,c.addEventListener("click",(function(){l(n)})),d(n),document.getElementById("content").appendChild(c)}},d=e=>{let t=document.createElement("a");t.innerHTML=e,document.getElementById("myDropdown").appendChild(t),t.addEventListener("click",(function(){l(e)}))},l=n=>{"All Projects"==n&&location.reload(),t(),document.getElementById("content").classList.add("project-content");let c=JSON.parse(e[n]);o(c),document.getElementById("projects").firstElementChild.innerHTML=n},o=e=>{for(let t=0;t<e.length;t++){let n=document.getElementById("content"),c=i(e[t].title),d=document.createElement("div");d.classList.add("closed-task"),d.appendChild(c.input),d.appendChild(c.label),s(e[t],d),n.appendChild(d)}},i=e=>{let t=document.createElement("input");t.classList.add("inp-cbx"),t.id=e,t.type="checkbox",t.style="display: none;";let n=document.createElement("label");n.classList.add("cbx"),n.setAttribute("for",e);let c=document.createElement("span"),d=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttribute("width","12px"),l.setAttribute("height","9px"),l.setAttribute("viewbox","0 0 12 9");let o=document.createElementNS("http://www.w3.org/2000/svg","polyline");return o.setAttribute("points","1 5 4 8 11 1"),l.appendChild(o),c.appendChild(l),d.innerText=e,n.appendChild(c),n.appendChild(d),{input:t,label:n}},s=(e,t)=>{let n=document.createElement("div");n.innerHTML=e.description,t.addEventListener("click",(function(){2==t.children.length?t.appendChild(n):t.removeChild(t.lastChild)}))};c(),n(),d("All Projects");const r=document.querySelector(".modal-bg"),a=document.querySelector(".modal-close");document.getElementById("tasksubmit").addEventListener("click",(function(){(t=>{const n=document.getElementById("projects").firstElementChild.innerHTML;console.log(n);const c=(d=t.title.value,l=t.description.value,{title:d,description:l,date:"date",priority:"priority",edit:(e,t,n,c)=>{d=e,l=t}});var d,l;let o=JSON.parse(e.getItem(n));o.push(c),e.setItem(n,JSON.stringify(o))})(this.form),r.classList.remove("bg-active")})),document.getElementById("new-task").addEventListener("click",(function(){r.classList.add("bg-active")})),a.addEventListener("click",(function(){r.classList.remove("bg-active")})),document.getElementById("projects").addEventListener("click",(function(){document.getElementById("myDropdown").classList.toggle("show")})),window.onclick=function(e){if(!e.target.matches("#projects")){var t,n=document.getElementsByClassName("dropdown-content");for(t=0;t<n.length;t++){var c=n[t];c.classList.contains("show")&&c.classList.remove("show")}}}})();